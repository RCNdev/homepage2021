{"version":3,"sources":["components/ActionBanner/actionBanner.js","components/TopContent/topContent.js","components/VideoViewer/videoViewer.js","components/WhatsOn/whatsOn.js","app.js"],"names":["actionBanner","props","btnText1","String","btnText2","btnText3","articles","data","current","active","computed","articleArray","JSON","parse","template","searchSuggestion","keyword","results","response","timer","undefined","available","loading","suggestionsEndpoint","type","required","suggestionsAmount","default","searchValue","suggestionsText","fullResultsText","watch","fetch","length","throttledFetch","amount","isNaN","methods","clearTimeout","setTimeout","fetchJSON","videoViewer","id","parent","open","close","$refs","scrollIntoView","behavior","whatsOn","scrollLeft","el","scrollable","scrollTo","top","left","offsetWidth","scrollRight","scrolled","Vue","component"],"mappings":"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","file":"app.ecdd9c2a.js","sourceRoot":"..\\src","sourcesContent":["export const actionBanner = {\r\n    props: {\r\n        btnText1: String,\r\n        btnText2: String,\r\n        btnText3: String,\r\n        articles: String\r\n    },\r\n    data: function() {\r\n        return {\r\n            current: '&#35;FairPayForNursing',\r\n            active: false\r\n        }\r\n    },\r\n    computed: {\r\n        articleArray() {\r\n            return JSON.parse(this.articles)\r\n        }\r\n    },\r\n    template: /*html*/`\r\n        <div class=\"action-banner__container\">\r\n            <VideoViewer id=\"action-banner-video\">\r\n                <template #opener>\r\n                    <a class=\"video-viewer__video-link\" href=\"#media\"> \r\n                        <slot v-if=\"current == '&#35;FairPayForNursing'\" name=\"image1\"></slot>\r\n                        <slot v-if=\"current == 'Covid-19'\" name=\"image2\"></slot>\r\n                        <slot v-if=\"current == 'Nursing Support Workers&apos; Day'\" name=\"image3\"></slot>\r\n                    </a>\r\n                </template>\r\n                <slot v-if=\"current === '&#35;FairPayForNursing'\" name=\"video1\"></slot>\r\n                <slot v-if=\"current === 'Covid-19'\" name=\"video2\"></slot>\r\n                <slot v-if=\"current === 'Nursing Support Workers&apos; Day'\" name=\"video3\"></slot>\r\n            </VideoViewer>\r\n\r\n            <div class=\"action-banner__contents\">\r\n                <button\r\n                    class=\"action-banner__accordion-btn\"\r\n                    :class=\"{ 'is-active': current === '&#35;FairPayForNursing'}\"\r\n                    :disabled=\"current === '&#35;FairPayForNursing'\"\r\n                    @click=\"current = '&#35;FairPayForNursing'\"\r\n                >\r\n                    {{ articleArray[0].label }}\r\n                </button>\r\n                <slot name=\"accordion-section1\" v-if=\"current === '&#35;FairPayForNursing'\"></slot>\r\n                    \r\n                <button\r\n                    class=\"action-banner__accordion-btn\"\r\n                    :class=\"{ 'is-active': current === 'Covid-19'}\"\r\n                    :disabled=\"current === 'Covid-19'\"\r\n                    @click=\"current = 'Covid-19'\"\r\n                >\r\n                    {{ articleArray[1].label }}\r\n                </button>\r\n                <slot name=\"accordion-section2\" v-if=\"current === 'Covid-19'\"></slot>\r\n                    \r\n                <button\r\n                    class=\"action-banner__accordion-btn\"\r\n                    :class=\"{ 'is-active': current === 'Nursing Support Workers&apos; Day'}\"\r\n                    :disabled=\"current === 'Nursing Support Workers&apos; Day'\"\r\n                    @click=\"current = 'Nursing Support Workers&apos; Day'\"\r\n                >\r\n                    {{ articleArray[2].label }}\r\n                </button>\r\n                <slot\r\n                    name=\"accordion-section3\" v-if=\"current === 'Nursing Support Workers&apos; Day'\"></slot>\r\n            </div>\r\n\r\n            <nav class=\"action-banner__tabs-bar\">\r\n                <button\r\n                    class=\"action-banner__tab btn\"\r\n                    :class=\"{ 'is-active': current === '&#35;FairPayForNursing'}\"\r\n                    :disabled=\"current === '&#35;FairPayForNursing'\"\r\n                    @click=\"current = '&#35;FairPayForNursing'\"\r\n                >\r\n                    {{ articleArray[0].label }}\r\n                </button>\r\n                <button\r\n                    class=\"action-banner__tab btn\"\r\n                    :class=\"{ 'is-active': current === 'Covid-19'}\"\r\n                    :disabled=\"current === 'Covid-19'\"\r\n                    @click=\"current = 'Covid-19'\"\r\n                >\r\n                    {{ articleArray[1].label }}\r\n                </button>\r\n                <button\r\n                    class=\"action-banner__tab btn\"\r\n                    :class=\"{ 'is-active': current === 'Nursing Support Workers&apos; Day'}\"\r\n                    :disabled=\"current === 'Nursing Support Workers&apos; Day'\"\r\n                    @click=\"current = 'Nursing Support Workers&apos; Day'\"\r\n                >\r\n                    {{ articleArray[2].label }}\r\n                </button>\r\n            </nav>\r\n        </div>\r\n    `\r\n}","export const searchSuggestion = {\r\n    data() {\r\n        return {\r\n            keyword: '',\r\n            results: [],\r\n            response: [\r\n                {\r\n                    \"Url\":\"https://local.rcn.org.uk/get-help/rcn-advice/accidents-at-work-and-personal-injury\",\r\n                    \"Title\":\"Accidents at work and personal injury\"\r\n                },\r\n                {\r\n                    \"Url\":\"https://local.rcn.org.uk/get-involved/forums/advanced-nurse-practitioner-forum\",\r\n                    \"Title\":\"Advanced Nurse Practitioner Forum\"\r\n                },\r\n                {\r\n                    \"Url\":\"https://local.rcn.org.uk/library/subject-guides/advanced-nursing-practice\",\r\n                    \"Title\":\"Advanced Nursing Practice\"\r\n                },\r\n                {\r\n                    \"Url\":\"https://local.rcn.org.uk/get-help/rcn-advice/aesthetic-practice\",\r\n                    \"Title\":\"Aesthetic practice\"\r\n                },\r\n                {\r\n                    \"Url\":\"https://local.rcn.org.uk/get-help/rcn-advice/agency-workers\",\r\n                    \"Title\":\"Agency workers\"\r\n                }\r\n            ],\r\n            timer: undefined,\r\n            available: true,\r\n            loading: false,\r\n        }\r\n    },\r\n    props: {\r\n        suggestionsEndpoint: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        suggestionsAmount: {\r\n            type: String,\r\n            default: '5'\r\n        },\r\n        searchValue: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        suggestionsText: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        fullResultsText: {\r\n            type: String,\r\n            required: true\r\n        }\r\n    },\r\n    watch: {\r\n        searchValue() {\r\n            // Suggested Search is an enhancement - only for browsers that support the fecth API\r\n            if (typeof (fetch) != 'function' || !this.available || this.searchValue.length < 3) {\r\n                this.keyword = '';\r\n                this.results = [];\r\n                this.loading = false;\r\n                return;\r\n            }\r\n\r\n            // Not using v-model because of android virtual keyboard limitations\r\n            this.keyword = this.searchValue;\r\n            this.loading = true;\r\n\r\n            this.throttledFetch();\r\n        }\r\n    },\r\n    computed: {\r\n        amount() {\r\n            return isNaN(+this.suggestionsAmount) ? 5 : +this.suggestionsAmount;\r\n        }\r\n    },\r\n    methods: {\r\n        throttledFetch() {\r\n            // clear any previous throttle timer\r\n            clearTimeout(this.timer);\r\n\r\n            // reset throttle timer after each input\r\n            this.timer = setTimeout(() => {\r\n                this.fetchJSON();\r\n            }, 500);\r\n        },\r\n        async fetchJSON() {\r\n            try {\r\n                /* TODO: replace '/results.json' with the real endpoint */\r\n                // const response = await fetch(`${this.suggestionsEndpoint}?Keyword=${this.keyword}`);\r\n                // update results unless keyword has been removed since fetch was initiated\r\n                this.results = this.keyword && this.response;\r\n            } catch {\r\n                // prevent further requests if the first one fails\r\n                this.available = false;\r\n            }\r\n\r\n            this.loading = false;\r\n        }\r\n    },\r\n    template: /*html*/\r\n        `<div class=\"search-suggestions\">\r\n            <div class=\"search-suggestions__panel\">\r\n                <div :class=\"loading && 'search-suggestions__loading-bar'\"></div>\r\n                \r\n                <small class=\"search-suggestions__title\" v-if=\"results.length\">{{ suggestionsText }}</small>\r\n\r\n                <ol class=\"search-suggestions__list\">\r\n                    <li class=\"search-suggestions__item\" v-for=\"result in results\">\r\n                        <a class=\"search-suggestions__link\" :href=\"result.Url\">{{ result.Title }}</a>\r\n                    </li>\r\n                </ol>\r\n\r\n                <button class=\"search-suggestions__button btn is-fullwidth button button--fullwidth button--gray\" v-if=\"results.length\">{{ fullResultsText }}</button>\r\n            </div>\r\n        </div>`\r\n}","export const videoViewer = {\r\n    props: {\r\n        id: String,\r\n        parent: String\r\n    },\r\n    data() {\r\n        return {\r\n            open: false\r\n        }\r\n    },\r\n    methods: {\r\n        close() {\r\n            this.open = false;\r\n            this.$refs[this.id].scrollIntoView({behavior: \"auto\"});\r\n        }\r\n    },\r\n    template: /*html*/`\r\n        <div class=\"video-viewer\" :ref=\"id\">\r\n            <span @click=\"open = true\">\r\n                <slot name=\"opener\"></slot>\r\n            </span>\r\n            <div v-if=\"open\" class=\"video-viewer__backdrop\" id=\"media\" @click=\"close\">\r\n                <div class=\"video-viewer__video\">\r\n                    <slot></slot>\r\n                </div>\r\n                <a class=\"video-viewer__close\" :href=\"id\" @click.prevent=\"close\">\r\n                    &times;\r\n                </a>\r\n            </div>\r\n        </div>\r\n    `\r\n};\r\n","export const whatsOn = {\r\n    methods: {\r\n        scrollLeft() {\r\n            const el = this.$refs.scrollable;\r\n            if (el.scrollTo) {\r\n                return el.scrollTo({\r\n                    top: 0,\r\n                    left: el.scrollLeft - el.offsetWidth*2/3,\r\n                    behavior: 'smooth'\r\n                })\r\n            }\r\n\r\n            return this.$refs.scrollable.scrollLeft += 320\r\n        },\r\n        scrollRight() {\r\n            const el = this.$refs.scrollable;\r\n            const width = el.offsetWidth;\r\n            \r\n            this.scrolled = true;\r\n\r\n            if (el.scrollTo) {\r\n                return el.scrollTo({\r\n                    top: 0,\r\n                    left: el.scrollLeft + el.offsetWidth*2/3,\r\n                    behavior: 'smooth'\r\n                })\r\n            }\r\n\r\n            return this.$refs.scrollable.scrollLeft += 320\r\n        }\r\n    },\r\n    template: /*html*/`\r\n        <div class=\"whats-on__scroll\" ref=\"scrollable\">\r\n            <slot></slot>\r\n            <button class=\"whats-on__scroll-left btn is-red\" @click=\"scrollLeft\">\r\n                <slot name=\"leftarrow\"></slot>\r\n            </button>\r\n            <button class=\"whats-on__scroll-right btn is-red\" @click=\"scrollRight\">\r\n                <slot name=\"rightarrow\"></slot>\r\n            </button>\r\n        </div>\r\n    `\r\n}","import { actionBanner } from \"./components/ActionBanner/actionBanner\"\r\nimport { searchSuggestion } from \"./components/TopContent/topContent\";\r\nimport { videoViewer } from \"./components/VideoViewer/videoViewer\"\r\nimport { whatsOn } from \"./components/WhatsOn/whatsOn\"\r\n\r\nVue.component('ActionBanner', actionBanner);\r\nVue.component('SearchSuggestion', searchSuggestion)\r\nVue.component('VideoViewer', videoViewer);\r\nVue.component('WhatsOn', whatsOn);\r\n\r\nnew Vue({\r\n    el: '#app',\r\n    data() {\r\n        return {\r\n            searchValue: ''\r\n        }\r\n    }\r\n});\r\n"]}